import { SUBMIT_LOGIN } from "../actions/chat";

const authMiddleware = (store) => (next) => (action) => {
    console.log('Interception action authmiddleware', action);

    switch (action.type) {
        case SUBMIT_LOGIN: {

            const { inputEmail, inputPassword } = store.getState();

            axios.post('http://localhost:3001/login', {
                email: inputEmail,
                password: inputPassword,
            })
                .then((response) => {
                    console.log(response);
                })
                .catch((error) => {
                    console.log(error);
                });
            next(action);
            break;
        }

        default:
            next(action);
    }
};

export default authMiddleware; 